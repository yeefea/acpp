## 运算符优先级

- 一共16级，58个运算符，c++20还有第59个<=>运算符
- 只有level 3和15是右到左结合，其余都是左到右
- level 3 典型运算符：前置++ --，正负号 + -，逻辑非！，取地址&，解引用*，new delete，cast ()
- level 15 典型运算符：赋值运算符 + 三元condition + throw

- level 1 最高优先级 ::

- level 16 最低优先级 ,

- level 2 次高优先级，11种。后缀++-- 成员访问点箭头 两种括号 4种cast 最后一个typeid
后缀      ++ --
成员访问  . ->
函数调用  ()
下标      []
4种cast static_cast, const_cast, reinterpret_cast, dynamic_cast
typeid


```c++
// 左到右结合
// 成员访问
a.b.c.d;
a->b->c->d;

// 下标
a[0][1][2][3][4]
```

- level 3 右到左结合，12种。4对：前缀++-- 正负号 取地址&/解引用* new/delete，4个零散的：逻辑非! sizeof 类型转换() 反码~

```c++
// 左边能写一长串的都是右到左结合
++++++++i
--------j
1 + + + + +i
1 - - - - -i
*&*&*&*&*&i
delete new int;
!!!!!!!!ok
sizeof sizeof sizeof sizeof sizeof 1
(float)++i + i  // 前缀++的优先级比+高，和(float)同一级，且是右结合
```

- level 4 成员指针.* ->*

- level 15 次低优先级，赋值运算符 + 三元condition + throw
= *= /= %= += -= <<= >>= &= ^= |= ?: throw
复合赋值运算符对应5,6,7,10,11,12级的运算符

1 == 2 ? 1 : 1 == 1 ? 2 : 3 右结合是为了要模拟if-elseif-else，答案是2

- level 5 to 14。3/2/3/2分组。3级数学运算，2级逻辑运算，3级位运算，2级逻辑运算。逻辑与、或的优先级是比较低的，所以if判断写起来不用很多括号，但是逻辑非的优先级很高，是3级且右结合。

5 * / % 乘除模
6 + - 加减
7 << >> 左右移（这一级容易忘）

8 > < >= <= 逻辑大小于
9 == != 逻辑等不等

10 &   位与  // 与 异或 或
11 ^   位异或（这一级容易忘）
12 |   位或

13 &&  逻辑与
14 ||  逻辑或

```c++
// &优先级比<<低，所以要括号
std::cout << (1 & 2) << std::endl;
```
### ++ --
- 后缀++ -- 是level 2，左到右结合。i++返回右值，所以不能写i++++。
- 前缀++ -- 是level 3，右到左结合，++i返回左值，所以可以写++++i。
- 后缀优先级高，所以需要(++i)++